# ════════════════════════════════════════════════════════════════
# VAULT ENVIRONMENT VARIABLES
# ════════════════════════════════════════════════════════════════
# Copia este archivo a .env y personaliza los valores
# cp .env.example .env

# ────────────────────────────────────────────────────────────
# VAULT CONFIGURATION
# ────────────────────────────────────────────────────────────

# Versión de Vault a usar
VAULT_VERSION=1.15

# Dirección de Vault (para clientes externos)
VAULT_ADDR=http://localhost:8200

# ────────────────────────────────────────────────────────────
# POSTGRESQL (si usas --profile with-database)
# ────────────────────────────────────────────────────────────

POSTGRES_PASSWORD=ChangeMeInProduction

# Versión de PostgreSQL
POSTGRES_VERSION=15-alpine

# ────────────────────────────────────────────────────────────
# TLS/SSL (Producción)
# ────────────────────────────────────────────────────────────

# Habilitar TLS (true/false)
# Requiere certificados en ./tls/
VAULT_TLS_ENABLED=false

# Paths de certificados (dentro del container)
VAULT_TLS_CERT_FILE=/vault/tls/vault-cert.pem
VAULT_TLS_KEY_FILE=/vault/tls/vault-key.pem
VAULT_TLS_CA_FILE=/vault/tls/ca.pem

# ────────────────────────────────────────────────────────────
# LOGGING
# ────────────────────────────────────────────────────────────

# Nivel de log: trace, debug, info, warn, error
VAULT_LOG_LEVEL=info

# Formato: standard, json
VAULT_LOG_FORMAT=json

# ────────────────────────────────────────────────────────────
# RECURSOS
# ────────────────────────────────────────────────────────────

# Límites de memoria para container (opcional)
# VAULT_MEMORY_LIMIT=2g
# VAULT_MEMORY_RESERVATION=1g

# CPU limits (opcional)
# VAULT_CPU_LIMIT=2
# VAULT_CPU_RESERVATION=1

# ────────────────────────────────────────────────────────────
# AUTO-UNSEAL (Producción)
# ────────────────────────────────────────────────────────────

# AWS KMS
# AWS_REGION=us-west-2
# AWS_KMS_KEY_ID=alias/vault-unseal-key
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# Azure Key Vault
# AZURE_TENANT_ID=your-tenant-id
# AZURE_CLIENT_ID=your-client-id
# AZURE_CLIENT_SECRET=your-client-secret
# AZURE_VAULT_NAME=your-keyvault-name
# AZURE_KEY_NAME=vault-unseal-key

# Google Cloud KMS
# GOOGLE_PROJECT=your-gcp-project
# GOOGLE_REGION=us-west1
# GOOGLE_KEY_RING=vault-keyring
# GOOGLE_CRYPTO_KEY=vault-unseal-key

# ────────────────────────────────────────────────────────────
# MONITOREO
# ────────────────────────────────────────────────────────────

# Prometheus retention
PROMETHEUS_RETENTION_TIME=30s

# StatsD (opcional)
# STATSD_ADDRESS=statsd.company.com:8125

# DataDog (opcional)
# DATADOG_ADDRESS=localhost:8125
# DATADOG_TAGS=environment:production,service:vault

# ────────────────────────────────────────────────────────────
# BACKUPS
# ────────────────────────────────────────────────────────────

# Directorio de backups (fuera del container)
BACKUP_DIR=./backups

# S3 bucket para backups remotos (opcional)
# BACKUP_S3_BUCKET=s3://vault-backups/

# Retención de backups (días)
BACKUP_RETENTION_DAYS=90

# ────────────────────────────────────────────────────────────
# SEGURIDAD
# ────────────────────────────────────────────────────────────

# Deshabilitar mlock (SOLO para desarrollo/testing)
# NUNCA en producción
VAULT_DISABLE_MLOCK=false

# Max lease TTL
VAULT_MAX_LEASE_TTL=768h
VAULT_DEFAULT_LEASE_TTL=768h

# ────────────────────────────────────────────────────────────
# RED
# ────────────────────────────────────────────────────────────

# Puerto expuesto
VAULT_PORT=8200

# Subnet del network de Docker
DOCKER_SUBNET=172.25.0.0/16

# ────────────────────────────────────────────────────────────
# NOTAS IMPORTANTES
# ────────────────────────────────────────────────────────────
#
# 1. NUNCA commitees el archivo .env a git
#    (ya está en .gitignore)
#
# 2. En producción:
#    - Cambia TODAS las passwords
#    - Habilita TLS
#    - Configura auto-unseal
#    - Usa secrets managers para variables sensibles
#
# 3. Variables con valores por defecto en docker-compose.yml
#    pueden ser sobrescritas aquí
#
# ────────────────────────────────────────────────────────────
